# This file was generated automatically from conda-smithy. To update this configuration,
# update the conda-forge.yaml and/or the recipe/meta.yaml.

language: generic

os: osx

env:
  matrix:
    
    - CONDA_PY=27
    - CONDA_PY=34
    - CONDA_PY=35
  global:
    # The BINSTAR_TOKEN secure variable. This is defined canonically in conda-forge.yml.
    - secure: "i43jgFABzmw6ZeeuEd8xGZHtVK9W4/94AjhdBEBw51r+2hkwUp+b3QYfYSNsfaGqsmUA7YgC612eX6Tb0PEVmVZT8sTEnh/OBjiD2j1YndpFBX9RG309IJYgD0ufMvKArXULtGzoGm+xPTbCFqdNLJf5HpinT4zJQuyf+Xwze3B2B8W2zp9evuwxXL4OUGTyFpNELHPwZrWDi9gy0hFLNA3WcOTA/xLPWJOhPcBwkor9rHsD29fZApNYmCwGLRNlIA0SCZFcO7B4t8fOZ6Z/nAn9KI8cmPVX7z7ZUPP0yh/gh3OascHiId9bsU23mcZspHaAH+dqwi5oHBz2HeOFIRDM8NjIWmhjnlDH8qaDIrErY8cufBPUjuyRa9l4sZReppd5yfMYLEfRbBy4tfwN/9EMRl0EvUbxDMNS06XEFZ8e/IZO3RUO/ziQVwlhnPDhQoueJ6G7vN7vmY0kqR5a1QLp/tuMxV2OVjaL0pH3uJauGHUZC3aPhGh455KRC8dDllyO1zVb9Bog2UdoOLiL+dbFVHjT0z56RBxerzsLqq7aHz182cwETLNyL5Eaq6oinOTjBze5AbqRcW22CWxsw5Rw80OppAedEXExc4I5Q9f4jYuE42h1VVwl8O3Z31Ldj+0ewPoiTHgVTiupKwdnNe4sp0SmqJTTdBD6ThtqnOE="


before_install:
    # Remove homebrew.
    - brew remove --force $(brew list)
    - brew cleanup -s
    - rm -rf $(brew --cache)

install:
    - |
      MINICONDA_URL="http://repo.continuum.io/miniconda"
      MINICONDA_FILE="Miniconda3-latest-MacOSX-x86_64.sh"
      curl -O "${MINICONDA_URL}/${MINICONDA_FILE}"
      bash $MINICONDA_FILE -b

      export PATH=/Users/travis/miniconda3/bin:$PATH
      conda config --add channels conda-forge
      conda config --set show_channel_urls true
      conda install --yes --quiet conda-forge-build-setup
      source run_conda_forge_build_setup

script:
  - conda build ./recipe

  - ./ci_support/upload_or_check_non_existence.py ./recipe conda-forge --channel=main
